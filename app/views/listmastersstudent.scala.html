@(currentPage: com.avaje.ebean.Page[MastersStudent], currentSortBy: String, currentOrder: String, currentFilter: String)

@link(newPage: Integer, newSortBy: String) = @{
    var sortBy = currentSortBy
    var order = currentOrder
    if(newSortBy != null) {
        sortBy = newSortBy
        if(currentSortBy == newSortBy) {
            if(currentOrder == "asc") {
                order = "desc"
            } else {
                order = "asc"
            }
        } else {
            order = "asc"
        }
    }
    routes.MastersStudents.list(newPage, sortBy, order, currentFilter)
}

@header(key: String, title: String) = {
    <th class="@key.replace(".", "_") header @if(currentSortBy == key) @{
        if(currentOrder == "asc") "headerSortDown" else "headerSortUp"
    }">
        <a href="@link(0, key)">@title</a>
    </th>
}

@main("Master's Thesis Management System") {
    <h2>List Master's Student</h2>
    <script>
    function del ( urlToDelete ) {
    $.ajax ( {
    url : urlToDelete,
    type : 'DELETE',
    success : function ( results ) {
    // Refresh the page
    location.reload ( ) ;
    }
    } ) ;
    }
    </script>

    @if(currentPage.getTotalRowCount == 0) {
        <div class="well"><em>Nothing to display</em></div>
        <a href="@routes.MastersStudents.list(0, "id", "asc", "")" class="btn btn-default">Back</a>
    } else {

        <div class="col-lg-6">
            <div id="actions">
                <form action="@link(0, "id")" method="GET">
                    <div class="input-group">
                        <input class="form-control" type="search" id="searchbox" name="filter"
                        value="@currentFilter" placeholder="Filter By ID Or Name...">
                        <span class="input-group-btn">
                            <input class="btn btn-default" type="submit" id="searchsubmit" value="Filter By ID">
                        </span>
                    </div>
                </form>
            </div>
        </div>
        <br></br>
        <div id="pagination" class="pagination">
            @if(currentPage.hasPrev) {
                <li><a href="@routes.MastersStudents.list(currentPage.getPageIndex - 1)">&larr;</a></li>
            } else {
                <li class="disabled"><a>&larr;</a></li>
            }
            <li class="active"><a>Displaying @currentPage.getDisplayXtoYofZ(" to ", " of ")</a></li>
            @if(currentPage.hasNext) {
                <li><a href="@routes.MastersStudents.list(currentPage.getPageIndex + 1)">&rarr;</a></li>
            } else {
                <li class="disabled"><a>&rarr;</a></li>
            }
        </div>
        <table class="table table-striped table-bordered">
            <thead>
                <tr>
                    @header("id", "ID")
                    <th>Name</th>
                    <th>Address</th>
                    <th>Phone Number</th>
                    <th>Faculty</th>
                    <th>Course</th>
                    <th>Email</th>
                    <th>Birthday</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
            @for(mastersStudent <- currentPage.getList()) {
                <tr>
                    <td><a href="@routes.MastersStudents.details(mastersStudent)">@mastersStudent.ean</a></td>
                    <td>@mastersStudent.name</td>
                    <td>@mastersStudent.address</td>
                    <td>@mastersStudent.phonenumber</td>
                    <td>@mastersStudent.faculty</td>
                    <td>@mastersStudent.course</td>
                    <td><b>@mastersStudent.email</b></td>
                    <td>@if(mastersStudent.birthday != null) {
                        @mastersStudent.birthday.format("dd-MM-yyyy")
                    }</td>
                    <td>
                        <a href="@routes.MastersStudents.details(mastersStudent)">
                            <span class="glyphicon glyphicon-pencil"></span></a>
                        <a onclick="javascript:del('@routes.MastersStudents.delete(mastersStudent.ean)')">
                            <span class="glyphicon glyphicon-trash"></span></a>
                    </td>
                </tr>
            }
            </tbody>
        </table>
    }
    <a href="@routes.MastersStudents.newMastersStudent()" class="btn btn-primary">New Master's Student</a>
    <br></br>

}